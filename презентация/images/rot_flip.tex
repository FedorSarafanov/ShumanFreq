\documentclass[tikz]{standalone}

\usepackage[english,russian]{babel}
\usepackage[T2A,T1]{fontenc}
\usepackage[utf8]{inputenc}
\usetikzlibrary{fit}
\usepackage
    {
        tikz,
        pgfplots,
        verbatim,
    }
\usetikzlibrary
    {
        arrows,
        patterns,
        angles,
        quotes,
        calc, 
        3d,  
        backgrounds, 
        positioning
    }
\usetikzlibrary{fadings,through}
\tikzset
    {
        media/.style={font={\footnotesize\sffamily}},
        wave/.style={
            decorate,decoration={snake,post length=1.4mm,amplitude=2mm,
                segment length=1mm},thick},   
    }
\begin{document}
\begin{tikzpicture}
	\xdef\darkness{0}

% 	\xdef\SIZE{10}

% 	\draw[step=1.0,blue,thick] (0,0) grid (\SIZE,\SIZE);
% 	\draw[step=0.5,blue,very thin] (0,0) grid (\SIZE,\SIZE);

% 	\foreach \i in {0,1,...,\SIZE} {
%     	\draw (0,\i) node [left] {\i};
%     	\draw (\i,0) node [below] {\i};
%     }



    \node[fit={(5,0) (5.25,1)}, inner sep=0pt, draw=black] (res2) {};

    \node[fit={(3-0.25,0) (3,1)}, inner sep=0pt, draw=black] (res1) {};

    \node[fit={(5,0) (5.25,1)}, rotate around={-25:(res2.west)}, inner sep=0pt, draw=black, dashed] (res2) {};

    \draw[magenta, line width=1pt, dashed] (res2.west) -- ++(90+25:.53);

    % forward wave
    \draw[line width=1pt,magenta] 
        (res1.east) -- (res2.west)
    	% (LAS1-left) -- (res-right-right)
    	% (res-right-left) -- (res-left-right)
    	% (res-right-right) -- ++(0.5,0)
    	% (res-left-left) -- (pol1) 
    	% (pol1) -- ++ (-2,0) node [left, black] {накачка}
    ;

    % environment 
    \draw[fill=magenta!65, opacity=0.5] (3.7, 0.2) rectangle (4.3,0.8);

	\foreach \i in {3.8,3.9,...,4.2} {
    	\draw[red,->] (\i-0.1,-0) -- (\i,0.2);
    }    

    % \node (a) at (3.5,-0.7) {};

\end{tikzpicture} 
\end{document}